<div [formGroup]="form" class="mat-form">
    <div [ngSwitch]="input.controlType">
      <div *ngSwitchCase="'textbox'">
      <mat-form-field appearance="fill">
        <mat-label>{{input.label}}</mat-label>
        <input *ngIf="input.type !== 'password'" matInput [formControlName]="input.key" [id]="input.key" [type]="input.type">
        <input *ngIf="input.type == 'password'" matInput [formControlName]="input.key" [id]="input.key" [type]="hide ? input.type : 'text'">
        <mat-icon *ngIf="input.icon" matPrefix>{{input.icon}}</mat-icon>
        <button *ngIf="input.type == 'password'" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
      </mat-form-field>
     
      </div>
  
      <div *ngSwitchCase="'dropdown'">
        <label [attr.for]="input.key">{{input.label}}</label>
        <select class="custom-select" [id]="input.key" [formControlName]="input.key">
          <option *ngFor="let opt of input.options" [value]="opt.key">{{opt.value}}</option>
        </select>
      </div>

      <div *ngSwitchCase="'checkbox'">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" [formControlName]="input.key" [id]="input.key">
          <label class="form-check-label" [attr.for]="input.key">{{input.label}}</label>
        </div>
      </div>

      <div *ngSwitchCase="'radio'">
        <div class="form-check form-check-inline" *ngFor="let opt of input.options">
          <input class="form-check-input" type="radio" [formControlName]="input.key" [id]="input.key" [value]="opt.value">
          <label class="form-check-label" [attr.for]="opt.key"> {{ opt.value }} </label>
        </div>
      </div>

      <div *ngSwitchCase="'textarea'">
        <label [attr.for]="input.key">{{input.label}}</label>
        <textarea class="form-control" [formControlName]="input.key" [id]="input.key" rows="5"></textarea>
      </div>
  
    </div>

  </div>